{"ast":null,"code":"var _jsxFileName = \"/Users/stetsonolaye/Desktop/project3/src/components/Pages/home/components/SignUp.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport Input from './form/Input';\nimport SubmitButton from \"./form/SubmitButton\";\nimport MyModal from '../../../Form/MyModal';\n\nclass Signup extends Component {\n  constructor() {\n    super();\n\n    this.closeModal = event => {\n      event.preventDefault();\n      this.setState({\n        modalDisplay: false\n      });\n    };\n\n    this.toggle = event => {\n      event.preventDefault();\n      this.setState({\n        modalDisplay: true\n      });\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      password2: '',\n      confirmPassword: '',\n      heading: '',\n      message: '',\n      modalDisplay: false,\n      redirectTo: null\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    console.log('sign-up handleSubmit, username: ');\n    console.log(this.state.username);\n    event.preventDefault();\n\n    if (this.state.username.length === 0 || this.state.password.length === 0 || this.state.password2 === 0) {\n      this.setState({\n        message: \"fill out all fields\",\n        heading: \"FORM ERROR\",\n        modalDisplay: true\n      }); // REMOVE ALERT AND CHANGE TO MODAL\n    } else if (this.state.password2 !== this.state.password) {\n      this.setState({\n        message: \"passwords don't match\",\n        heading: 'PASSWORD ERROR',\n        modalDisplay: true\n      }); // REMOVE ALERT AND CHANGE TO MODAL\n    } else if (this.state.password.length < 6 || this.state.password2.length < 6) {\n      this.setState({\n        message: \"make password longer than 6 characters\",\n        heading: 'PASSWORD ERROR',\n        modalDisplay: true\n      }); // REMOVE ALERT AND CHANGE TO MODAL\n    } else {\n      //request to server to add a new username/password\n      axios.post('/user/', {\n        username: this.state.username,\n        password: this.state.password\n      }).then(response => {\n        console.log(response);\n\n        if (!response.data.errmsg) {\n          console.log('successful signup');\n          this.setState({\n            //redirect to login page\n            redirectTo: '/'\n          });\n        } else {\n          console.log('username already taken');\n        }\n      }).catch(error => {\n        console.log('signup error: ');\n        console.log(error);\n      });\n    }\n  }\n\n  render() {\n    if (this.state.redirectTo) {\n      return React.createElement(Redirect, {\n        to: {\n          pathname: this.state.redirectTo\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(MyModal, {\n        message: this.state.message,\n        heading: this.state.heading,\n        close: this.closeModal,\n        open: this.state.modalDisplay,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"SignupForm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Sign up\"), React.createElement(\"form\", {\n        className: \"form-horizontal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        id: \"username\",\n        placeholder: \"Username\",\n        name: \"username\",\n        value: this.state.username,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(Input, {\n        type: \"password\",\n        id: \"password\",\n        placeholder: \"Password\",\n        name: \"password\",\n        value: this.state.password,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(\"h7\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Re-Enter Password:\"), React.createElement(Input, {\n        type: \"password\",\n        id: \"password\",\n        placeholder: \"Password\",\n        name: \"password2\",\n        value: this.state.password2,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(SubmitButton, {\n        className: \"btn btn-primary col-1 col-mr-auto\",\n        onClick: this.handleSubmit,\n        type: \"submit\",\n        text: \"Sign Up\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }))));\n    }\n  }\n\n}\n\nexport default Signup;","map":{"version":3,"sources":["/Users/stetsonolaye/Desktop/project3/src/components/Pages/home/components/SignUp.js"],"names":["React","Component","Redirect","axios","Input","SubmitButton","MyModal","Signup","constructor","closeModal","event","preventDefault","setState","modalDisplay","toggle","state","username","password","password2","confirmPassword","heading","message","redirectTo","handleSubmit","bind","handleChange","target","name","value","console","log","length","post","then","response","data","errmsg","catch","error","render","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport axios from 'axios'\nimport Input from './form/Input'\nimport SubmitButton from \"./form/SubmitButton\"\nimport MyModal from '../../../Form/MyModal'\n\nclass Signup extends Component {\n\tconstructor() {\n\t\tsuper()\n\t\tthis.state = {\n\t\t\tusername: '',\n\t\t\tpassword: '',\n\t\t\tpassword2: '',\n\t\t\tconfirmPassword: '',\n\t\t\theading: '',\n\t\t\tmessage: '',\n\t\t\tmodalDisplay: false,\n\t\t\tredirectTo: null\n\n\t\t}\n\t\tthis.handleSubmit = this.handleSubmit.bind(this)\n\t\tthis.handleChange = this.handleChange.bind(this)\n\t}\n\thandleChange(event) {\n\t\tthis.setState({\n\t\t\t[event.target.name]: event.target.value\n\t\t})\n\t}\n\tcloseModal = event => {\n\t\tevent.preventDefault()\n\t\tthis.setState({\n\t\t\tmodalDisplay: false\n\t\t})\n\t}\n\t\n\t\n\thandleSubmit(event) {\n\t\tconsole.log('sign-up handleSubmit, username: ')\n\t\tconsole.log(this.state.username)\n\t\tevent.preventDefault()\n\n\t\tif(this.state.username.length === 0 || this.state.password.length === 0 || this.state.password2 === 0){\n\t\t\tthis.setState({\n\t\t\t\tmessage: \"fill out all fields\",\n\t\t\t\theading: \"FORM ERROR\",\n\t\t\t\tmodalDisplay: true\n\t\t\t})\n\t\t\t// REMOVE ALERT AND CHANGE TO MODAL\n\t\t} else if (this.state.password2 !== this.state.password){\n\t\t\tthis.setState({\n\t\t\t\tmessage: \"passwords don't match\",\n\t\t\t\theading: 'PASSWORD ERROR',\n\t\t\t\tmodalDisplay: true\n\t\t\t})\n\t\t\t// REMOVE ALERT AND CHANGE TO MODAL\n\t\t} else if (this.state.password.length < 6 || this.state.password2.length < 6){\n\t\t\tthis.setState({\n\t\t\t\tmessage: \"make password longer than 6 characters\",\n\t\t\t\theading: 'PASSWORD ERROR',\n\t\t\t\tmodalDisplay: true\n\t\t\t})\n\t\t\t// REMOVE ALERT AND CHANGE TO MODAL\n\t\t} else {\n\t\t\t//request to server to add a new username/password\n\t\t\taxios.post('/user/', {\n\t\t\t\tusername: this.state.username,\n\t\t\t\tpassword: this.state.password\n\t\t\t})\n\t\t\t\t.then(response => {\n\t\t\t\t\tconsole.log(response)\n\t\t\t\t\tif (!response.data.errmsg) {\n\t\t\t\t\t\tconsole.log('successful signup')\n\t\t\t\t\t\tthis.setState({ //redirect to login page\n\t\t\t\t\t\t\tredirectTo: '/'\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('username already taken')\n\t\t\t\t\t}\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tconsole.log('signup error: ')\n\t\t\t\t\tconsole.log(error)\n\t\n\t\t\t\t})\n\n\t\t}\n\t}\n\n\ttoggle = event => {\n\t\tevent.preventDefault()\n\t\tthis.setState({\n\t\t\tmodalDisplay: true\n\t\t})\n\t}\n\n\nrender() {\n\tif (this.state.redirectTo) {\n\t\treturn <Redirect to={{ pathname: this.state.redirectTo }} />\n\t} else {\n\treturn (\n\t\t<div>\n\t\t\t<MyModal\n\t\t\t\tmessage={this.state.message}\n\t\t\t\theading={this.state.heading} \n\t\t\t\tclose={this.closeModal}\n\t\t\t\topen={this.state.modalDisplay}\n\t\t\t\t/> \n\t\t\t{/* <Example/> */}\n\t\t\t<div className=\"SignupForm\">\n\t\t\t\t<h4>Sign up</h4>\n\t\t\t\t<form className=\"form-horizontal\">\n\t\t\t\t\t<Input \n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tid=\"username\" \n\t\t\t\t\tplaceholder=\"Username\" \n\t\t\t\t\tname=\"username\"\n\t\t\t\t\tvalue={this.state.username}\n\t\t\t\t\tonChange={this.handleChange} \n\t\t\t\t\t/>\n\t\t\t\t\t<Input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tid=\"password\"\n\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tvalue={this.state.password}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<h7>Re-Enter Password:</h7>\n\t\t\t\t\t<Input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tid=\"password\"\n\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\tname=\"password2\"\n\t\t\t\t\tvalue={this.state.password2}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<SubmitButton \n\t\t\t\t\tclassName=\"btn btn-primary col-1 col-mr-auto\"\n\t\t\t\t\tonClick={this.handleSubmit}\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\ttext=\"Sign Up\"\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\n\t)}}\n}\n\n\nexport default Signup\n"]},"metadata":{},"sourceType":"module"}